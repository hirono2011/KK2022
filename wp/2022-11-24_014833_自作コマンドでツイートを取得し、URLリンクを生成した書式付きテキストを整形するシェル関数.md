### 自作コマンドでツイートを取得し、URLリンクを生成した書式付きテキストを整形するシェル関数　-　本件刑事告発・非常上告事件＼金沢地方検察庁御中

:CATEGORIES: @kanazawabengosi #金沢弁護士会 @JFBAsns 日本弁護士連合会（日弁連） #法務省 @MOJ_HOUMU #参考資料


#2022-11-23
function nk_d9() {
	echo '<div class="d9" style="font-size:9pt; background-color: #FFFAFA">'
	tl_kk $1 | python -c 'import sys,re; [print(re.sub("(https?://[^ ]+)",r"<a href=\"\1\" target=\"_blank\">\1</a>",l),end="") for l in sys.stdin]'|sed "s/\\\//g";
	echo '</div>'
}

function nk_d9_copy() {
	nk_d9 $1
	nk_d9 $1 | pbcopy
}

　これまで余り使ったことのなかったpythonでのワンライナーを使用しました。なぜか半角のバックスラッシュがそのまま表示されてしまい。パイプで削除する処理を加えています。いちおう目的の処理ができるようになりましたが、試行錯誤で時間が掛かりました。

　個人的な備忘録になります。

　コードはBashになっていますが、zshでの設定になります。



最終更新日時：2022-11-24_014833
get_text-wp-kk2022_platform.py --new True -l http://hirono-hideki.info/kk2022/2022-11-23_1073
